"use strict";(self.webpackChunk_dev_app=self.webpackChunk_dev_app||[]).push([[452],{2452:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var a=n(2784),l=n(5823);const o=1e3,r=[0,1e3,2e3,5e3,1e4,2e4,5e4],s=e=>new Date(e).toISOString().split("T").pop();function c(){const e=(0,a.useRef)(),[t,n]=(0,a.useState)((()=>Date.now())),[c,u]=(0,a.useState)((()=>5e3)),i=(0,a.useCallback)((t=>{const n=e.current;n&&(n.value=`${t}\n${n.value}`)}),[e]),d=(0,a.useCallback)((e=>{const t=Date.now();return i(`${s(t)} <-- req`),fetch("longpoll",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({time:e,delay:c})}).then((()=>{const e=Date.now();i(`${s(e)} --\x3e res | ${e-t}`)}))}),[c]);return(0,a.useEffect)((()=>{let e;i("----");let n=!1;const a=t=>{if(n)return;const l=Date.now();i(`${s(l)} | ${s(t)} | ${l-t}`),e=setTimeout((()=>{d(t).then((()=>a(t+o))).catch((e=>{const t=Date.now();i(`${s(t)} --\x3e error [${e.message}]`),console.error(e)}))}),o)};return a(t),()=>{n=!0,clearTimeout(e)}}),[t]),a.createElement("section",{className:l.Z.Section},a.createElement("h2",null,"Async",a.createElement("button",{onClick:(0,a.useCallback)((t=>(t.preventDefault(),e.current.value="")),[])},"clear"),a.createElement("button",{onClick:(0,a.useCallback)((e=>(e.preventDefault(),n(Date.now()))),[])},"reset"),a.createElement("a",{href:"https://google.com/maps/dir/?api=1&destination=52.226943,20.9899221",target:"_blank",rel:"noopener noreferrer"},"maps"),a.createElement("select",{value:c,onChange:(0,a.useCallback)((({target:e})=>u(Number(e.value))),[])},r.map((e=>a.createElement("option",{key:e,value:e},e))))),a.createElement("textarea",{ref:e,readOnly:!0,className:l.Z.Console}))}},7423:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var a=n(272),l=n.n(a),o=n(2609),r=n.n(o)()(l());r.push([e.id,".tmj_NkdGr2Omi9R8sTr2{color:blue}.gKRQNC11yiHI84nfUrWw{width:75vh;height:75vh}","",{version:3,sources:["webpack://./../web/src/containers/Async/styles.module.scss"],names:[],mappings:"AAAA,sBACE,UAAA,CAEF,sBACE,UAAA,CACA,WAAA",sourcesContent:[".Section {\n  color: blue;\n}\n.Console {\n  width: 75vh;\n  height: 75vh;\n}\n"],sourceRoot:""}]),r.locals={Section:"tmj_NkdGr2Omi9R8sTr2",Console:"gKRQNC11yiHI84nfUrWw"};const s=r},5823:(e,t,n)=>{n.d(t,{Z:()=>k});var a=n(6062),l=n.n(a),o=n(4036),r=n.n(o),s=n(6793),c=n.n(s),u=n(7892),i=n.n(u),d=n(1173),f=n.n(d),m=n(2464),h=n.n(m),p=n(7423),v={};v.styleTagTransform=h(),v.setAttributes=i(),v.insert=c().bind(null,"head"),v.domAPI=r(),v.insertStyleElement=f();var A=l()(p.default,v);if(!p.default.locals||e.hot.invalidate){var C=!p.default.locals,b=C?p:p.default.locals;e.hot.accept(7423,(t=>{p=n(7423),function(e,t,n){if(!e&&t||e&&!t)return!1;var a;for(a in e)if((!n||"default"!==a)&&e[a]!==t[a])return!1;for(a in t)if(!(n&&"default"===a||e[a]))return!1;return!0}(b,C?p:p.default.locals,C)?(b=C?p:p.default.locals,A(p.default)):e.hot.invalidate()}))}e.hot.dispose((function(){A()}));const k=p.default&&p.default.locals?p.default.locals:void 0}}]);
//# sourceMappingURL=452.js.map